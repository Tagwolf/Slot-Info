<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Slot Reservierung - Redstone Casino</title>
<style>
  body {
    background-color: #1c1e22;
    color: white;
    font-family: Arial, sans-serif;
    padding: 30px;
  }
  h1 {
    text-align: center;
    margin-bottom: 20px;
  }
  form {
    max-width: 500px;
    margin: auto;
    background-color: #2c2f33;
    padding: 20px;
    border-radius: 10px;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  input, textarea {
    padding: 10px;
    border: none;
    border-radius: 5px;
    background-color: #23272a;
    color: white;
    font-size: 16px;
  }
  button {
    padding: 12px;
    background-color: #7289da;
    color: white;
    font-size: 18px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
  button:hover {
    background-color: #99aab5;
  }
  .message {
    max-width: 500px;
    margin: 15px auto 0 auto;
    text-align: center;
    font-weight: bold;
  }
  .success {
    color: #43b581;
  }
  .error {
    color: #f04747;
  }
</style>
</head>
<body>

<h1>üé∞ Slot reservieren - Redstone Casino</h1>

<form id="reservierungsForm">
  <input type="text" name="name" placeholder="Dein Minecraft-Name" required />
  <input type="text" name="slot" placeholder="Slot-Wunsch (z.B. Slot A)" required />
  <textarea name="nachricht" placeholder="Zus√§tzliche Infos oder W√ºnsche..." rows="4"></textarea>
  <button type="submit">Reservieren</button>
</form>

<div id="message" class="message"></div>

<script>
  const webhookURL = "https://discord.com/api/webhooks/1386062927701868574/hpQSejrPUGLUGmDjTRiOsbjY7dvQIc7d51_TDWkhvmoCBbkiGLDkRmUzeIMBgglx9qXy";

  document.getElementById('reservierungsForm').addEventListener('submit', async function(e) {
    e.preventDefault();

    const name = this.name.value.trim();
    const slot = this.slot.value.trim();
    const nachricht = this.nachricht.value.trim() || "Keine Angaben";
    const messageBox = document.getElementById('message');
    messageBox.textContent = "";
    messageBox.className = "message";

    if (!name || !slot) {
      messageBox.textContent = "Bitte Name und Slot ausf√ºllen!";
      messageBox.classList.add("error");
      return;
    }

    // Discord Embed Payload
    const payload = {
      content: "@here Neue Slot Reservierung!",
      embeds: [{
        title: "üé∞ Neue Slot Reservierung",
        color: 0x7289da,
        fields: [
          { name: "Minecraft Name", value: name, inline: true },
          { name: "Slot", value: slot, inline: true },
          { name: "Nachricht", value: nachricht, inline: false }
        ],
        footer: { text: "Redstone Casino" },
        timestamp: new Date().toISOString()
      }]
    };

    try {
      const res = await fetch(webhookURL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload),
      });

      if (res.ok) {
        messageBox.textContent = "‚úÖ Reservierung erfolgreich gesendet!";
        messageBox.classList.add("success");
        this.reset();
      } else {
        messageBox.textContent = "‚ùå Fehler beim Senden der Reservierung!";
        messageBox.classList.add("error");
      }
    } catch (error) {
      console.error(error);
      messageBox.textContent = "‚ùå Netzwerkfehler!";
      messageBox.classList.add("error");
    }
  });
</script>

</body>
</html>
